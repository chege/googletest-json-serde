version: '3'

tasks:
  verify:
    desc: Run all checks equivalent to CI
    cmds:
      - echo "ğŸ§¹ Checking formatting..."
      - cargo fmt --all -- --check

      - echo "ğŸ” Running Clippy (stable)..."
      - cargo clippy --workspace --all-targets --all-features -- -D warnings

      - echo "ğŸ§ª Running tests (stable)..."
      - cargo test --all-features -- --nocapture
    silent: false

  fix:
    desc: Auto-fix formatting and run checks
    cmds:
      - echo "ğŸ§¹ Fixing formatting..."
      - cargo fmt --all

      - echo "ğŸ” Running Clippy (stable)..."
      - cargo clippy --workspace --all-targets --all-features -- -D warnings

      - echo "ğŸ§ª Running tests (stable)..."
      - cargo test --all-features -- --nocapture
    silent: false